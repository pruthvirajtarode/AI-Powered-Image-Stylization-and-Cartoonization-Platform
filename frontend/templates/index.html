<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Identity SDK -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <title>Toonify SaaS | Professional AI Image Stylization</title>
    <link rel="stylesheet" href="/static/css/styles.css?v=301">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;700;800&family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Premium Decorative Elements -->
    <img src="https://images.unsplash.com/photo-1541701494587-cb58502866ab?auto=format&fit=crop&q=80&w=800"
        class="bg-art art-top-right" alt="">
    <img src="https://images.unsplash.com/photo-1579783902614-a3fb3927b6a5?auto=format&fit=crop&q=80&w=800"
        class="bg-art art-bottom-left" alt="">

    <!-- SaaS Navbar -->
    <nav class="navbar" style="padding: 12px 5%; height: 75px; background: white; border-bottom: 1px solid #f1f5f9;">
        <a href="/" class="logo" style="display: flex; align-items: center; gap: 8px; text-decoration: none;">
            <div
                style="background: var(--primary); color: white; width: 40px; height: 40px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem;">
                <i class="fas fa-wand-sparkles"></i>
            </div>
            <span class="logo-text"
                style="font-family: 'Baloo 2'; font-size: 1.8rem; font-weight: 800; color: #1e293b;">Toonify<span
                    style="color: var(--primary);">.AI</span></span>
        </a>

        <div class="nav-links">
            <a href="/">
                <i class="fas fa-rocket"></i> Home
            </a>
            <a href="#app">
                <i class="fas fa-wand-magic-sparkles"></i> Neural Editor
            </a>
            <a href="/gallery">
                <i class="fas fa-palette"></i> Art Gallery
            </a>
            <a href="#features">
                <i class="fas fa-layer-group"></i> AI Styles
            </a>
            <a href="/docs">
                <i class="fas fa-book-open"></i> Docs
            </a>
        </div>

        <div class="auth-section">
            <div id="profileDropdownContainer" style="position: relative; display: none;">
                <button class="profile-pill" id="profilePillBtn">
                    <!-- Dynamic content from app.js -->
                </button>
                <div class="profile-dropdown" id="profileDropdown" style="display: none;">
                    <a href="/dashboard"><i class="fas fa-th-large"></i> Dashboard</a>
                    <a href="/profile"><i class="fas fa-user-gear"></i> Profile Settings</a>
                    <a href="/billing"><i class="fas fa-history"></i> Payment History</a>
                    <a href="/gallery"><i class="fas fa-images"></i> My Gallery</a>
                    <hr style="border: 0; border-top: 1px solid #f1f5f9; margin: 10px 0;">
                    <a href="#" onclick="handleLogout(event)" style="color: #ef4444;"><i
                            class="fas fa-sign-out-alt"></i> Logout</a>
                </div>
            </div>
            <button class="btn-auth" id="loginHeaderBtn" onclick="openAuth()">
                <i class="fas fa-sign-in-alt"></i> Login
            </button>
        </div>

        <div class="menu-toggle" id="menuToggle"
            style="display: none; cursor: pointer; font-size: 1.5rem; color: var(--dark); margin-left: 20px;">
            <i class="fas fa-bars"></i>
        </div>
    </nav>

    <!-- SaaS Hero with Automatic Carousel -->
    <header class="hero">
        <div class="hero-blob-1"></div>
        <div class="hero-blob-2"></div>
        <div class="hero-content">
            <h1>Transform Your <span>Photos</span> into Art</h1>
            <p>The world's most advanced AI stylization engine for creators. Turn any portrait, landscape, or pet photo
                into a professional cartoon masterpiece in seconds.</p>
            <div class="hero-cta">
                <a href="#app" class="btn-auth" style="padding: 1rem 3rem; font-size: 1.25rem;">Open AI Editor <i
                        class="fas fa-arrow-right"></i></a>
            </div>
            <div class="hero-stats">
                <div class="stat-item"><strong>2M+</strong> Projects Created</div>
                <div class="stat-item"><strong>99%</strong> Satisfaction</div>
            </div>
        </div>
        <div class="hero-visual">
            <div class="hero-card-stack" id="heroCarousel">
                <!-- Slide 1: Portrait Pro -->
                <div class="hero-slide active">
                    <img src="https://images.unsplash.com/photo-1554151228-14d9def656e4?auto=format&fit=crop&q=80&w=600"
                        class="hero-img img-1" alt="Original Portrait">
                    <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&q=80&w=600"
                        class="hero-img img-2" alt="Neural Styled Portrait">
                </div>
                <!-- Slide 2: Nature Pro -->
                <div class="hero-slide">
                    <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&q=80&w=600"
                        class="hero-img img-1" alt="Original Landscape">
                    <img src="https://images.unsplash.com/photo-1579783902614-a3fb3927b6a5?auto=format&fit=crop&q=80&w=600"
                        class="hero-img img-2" alt="Artistic Landscape">
                </div>
                <!-- Slide 3: Artistic Mastery -->
                <div class="hero-slide">
                    <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&q=80&w=600"
                        class="hero-img img-1" alt="Original Subject">
                    <img src="https://images.unsplash.com/photo-1566753323558-f4e0952af115?auto=format&fit=crop&q=80&w=600"
                        class="hero-img img-2" alt="Neural Styled Subject">
                </div>

                <div class="ai-badge">AI Neural Engine</div>
            </div>
        </div>
    </header>

    <!-- Professional Gallery Section with Slider -->
    <section class="gallery-section-main" id="gallery">
        <div class="section-title">
            <h2>Artistic <span>Possibilities</span></h2>
            <p>Explore what our neural engine can create with different styles.</p>
        </div>

        <div class="gallery-slider-container">
            <div class="gallery-track" id="galleryTrack">
                <div class="gallery-card">
                    <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?w=400" alt="Style 1">
                    <div class="card-overlay"><span>3D Cartoon</span></div>
                </div>
                <div class="gallery-card">
                    <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=400" alt="Style 2">
                    <div class="card-overlay"><span>Sketch Art</span></div>
                </div>
                <div class="gallery-card">
                    <img src="https://images.unsplash.com/photo-1541701494587-cb58502866ab?w=400" alt="Style 3">
                    <div class="card-overlay"><span>Oil Painting</span></div>
                </div>
                <div class="gallery-card">
                    <img src="https://images.unsplash.com/photo-1549490349-8643362247b5?w=400" alt="Style 4">
                    <div class="card-overlay"><span>Portrait Art</span></div>
                </div>
                <!-- Additional Images for Slider -->
                <div class="gallery-card">
                    <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400" alt="Style 5">
                    <div class="card-overlay"><span>Cyber Toon</span></div>
                </div>
                <div class="gallery-card">
                    <img src="https://images.unsplash.com/photo-1513364776144-60967b0f800f?w=400" alt="Style 6">
                    <div class="card-overlay"><span>Charcoal</span></div>
                </div>
                <div class="gallery-card">
                    <img src="https://images.unsplash.com/photo-1579783902614-a3fb3927b6a5?w=400" alt="Style 7">
                    <div class="card-overlay"><span>Anime View</span></div>
                </div>
                <div class="gallery-card">
                    <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400" alt="Style 8">
                    <div class="card-overlay"><span>Digital Oil</span></div>
                </div>
            </div>
        </div>
    </section>

    <!-- SaaS App Dashboard Section -->
    <section class="app-section" id="app">
        <div class="app-container">
            <aside class="app-sidebar">
                <div class="sidebar-group">
                    <h3><i class="fas fa-layer-group"></i> Effect Style</h3>
                    <div class="style-grid">
                        <div class="style-item active" data-style="cartoon">
                            <img src="https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&q=80&w=200&h=200"
                                alt="3D Pixar">
                            <span>3D Pixar</span>
                        </div>
                        <div class="style-item" data-style="sketch">
                            <img src="https://images.unsplash.com/photo-1513364776144-60967b0f800f?auto=format&fit=crop&q=80&w=200&h=200"
                                alt="Lead Sketch">
                            <span>Lead Sketch</span>
                        </div>
                        <div class="style-item" data-style="pencil_color">
                            <img src="https://images.unsplash.com/photo-1579783902614-a3fb3927b6a5?auto=format&fit=crop&q=80&w=200&h=200"
                                alt="Color Pencil">
                            <span>Color Pencil</span>
                        </div>
                        <div class="style-item" data-style="oil_painting">
                            <img src="https://images.unsplash.com/photo-1541701494587-cb58502866ab?auto=format&fit=crop&q=80&w=200&h=200"
                                alt="Oil Master">
                            <span>Oil Master</span>
                        </div>
                        <div class="style-item" data-style="watercolor">
                            <img src="https://images.unsplash.com/photo-1578301978693-85fa9c0320b9?auto=format&fit=crop&q=80&w=200&h=200"
                                alt="Watercolor">
                            <span>ðŸ’§ Watercolor</span>
                        </div>
                        <div class="style-item" data-style="pop_art">
                            <img src="https://images.unsplash.com/photo-1561214115-f2f134cc4912?auto=format&fit=crop&q=80&w=200&h=200"
                                alt="Pop Art">
                            <span>ðŸŽª Pop Art</span>
                        </div>
                        <div class="style-item" data-style="vintage">
                            <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&q=80&w=200&h=200"
                                alt="Vintage">
                            <span>ðŸ“· Vintage</span>
                        </div>
                        <div class="style-item" data-style="anime">
                            <img src="https://images.unsplash.com/photo-1613323593608-abc90fec84ff?auto=format&fit=crop&q=80&w=200&h=200"
                                alt="Anime">
                            <span>ðŸŒ¸ Anime</span>
                        </div>
                        <div class="style-item" data-style="ghibli">
                            <img src="https://images.unsplash.com/photo-1501785888041-af3ef285b470?auto=format&fit=crop&q=80&w=200&h=200"
                                alt="Studio Ghibli">
                            <span>ðŸŒ¿ Ghibli Art</span>
                        </div>
                        <div class="style-item" data-style="comic_book">
                            <img src="https://images.unsplash.com/photo-1588497859490-85d1c17db96d?auto=format&fit=crop&q=80&w=200&h=200"
                                alt="Comic Book">
                            <span>ðŸ’¥ Comic Book</span>
                        </div>
                    </div>
                </div>

                <div class="sidebar-group">
                    <h3><i class="fas fa-file-import"></i> Media Asset</h3>
                    <div class="upload-card" id="dropZone">
                        <input type="file" id="fileInput" hidden accept="image/*" multiple>
                        <div id="uploadText">
                            <i class="fas fa-cloud-arrow-up"></i>
                            <p><strong>Upload Photo(s)</strong></p>
                            <p style="font-size:11px; opacity:0.6;">Select multiple files at once</p>
                        </div>
                        <img id="uploadPreview" class="upload-preview-small" src="" alt="" style="display: none;">
                    </div>

                    <!-- Batch List Container -->
                    <div id="batchList" style="display: none; margin-top: 15px;">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <h4 style="font-size: 0.8rem; color: #64748b; text-transform: uppercase;">Batch Queue (<span
                                    id="batchCount">0</span>)</h4>
                            <button onclick="clearBatch()"
                                style="background: none; border: none; color: #ef4444; font-size: 0.75rem; font-weight: 700; cursor: pointer;">Clear
                                All</button>
                        </div>
                        <div id="batchItems"
                            style="display: flex; flex-direction: column; gap: 8px; max-height: 250px; overflow-y: auto; padding-right: 5px;">
                            <!-- Batch items injected here -->
                        </div>
                    </div>

                    <!-- Camera & WhatsApp Options -->
                    <div style="display: flex; gap: 10px; margin-top: 12px;">
                        <button id="cameraBtn" class="btn-icon-media" title="Live Camera Capture"
                            onclick="openCameraModal()">
                            <i class="fas fa-camera"></i> Camera
                        </button>
                        <button id="whatsappBtn" class="btn-icon-media" title="Import from WhatsApp"
                            onclick="openWhatsappModal()">
                            <i class="fab fa-whatsapp"></i> WhatsApp
                        </button>
                    </div>
                </div>


                <button id="processBtn" class="btn-convert" disabled>
                    Launch Transformation <i class="fas fa-sparkles"></i>
                </button>
            </aside>

            <main class="app-canvas">
                <div class="canvas-header">
                    <h3>Neural Production Stage</h3>
                    <div class="view-controls">
                        <div class="view-tab active" id="tabSideBySide">Side-by-Side</div>
                        <div class="view-tab" id="tabDynamic">Dynamic Comparison</div>
                    </div>
                </div>

                <div class="main-stage">
                    <div class="placeholder-view" id="placeholder">
                        <i class="fas fa-microchip" style="font-size: 5rem; color: var(--primary);"></i>
                        <h2 style="margin-top: 20px;">Ready for Production</h2>
                        <p>Upload your scene from the sidebar to begin the neural process</p>
                    </div>

                    <!-- Neural Canvas Crop Box View -->
                    <div class="canvas-crop-container" id="cropBoxView" style="display: none;">
                        <div class="canvas-image-wrapper" id="canvasImageWrapper">
                            <img id="canvasImage" class="canvas-image" src="" alt="Crop Area">
                            <div class="crop-box-overlay" id="cropOverlay"></div>
                            <div class="crop-box" id="cropBox" style="display: none;">
                                <div class="crop-box-handle crop-handle-nw"></div>
                                <div class="crop-box-handle crop-handle-ne"></div>
                                <div class="crop-box-handle crop-handle-sw"></div>
                                <div class="crop-box-handle crop-handle-se"></div>
                                <div class="crop-box-handle crop-handle-n"></div>
                                <div class="crop-box-handle crop-handle-s"></div>
                                <div class="crop-box-handle crop-handle-w"></div>
                                <div class="crop-box-handle crop-handle-e"></div>
                            </div>
                        </div>
                        <div class="crop-box-controls">
                            <button class="crop-btn crop-btn-reset" onclick="resetCropBox()" style="margin-right: auto;">
                                <i class="fas fa-redo"></i> Reset
                            </button>
                            <button class="crop-btn crop-btn-apply" onclick="applyCrop()">
                                <i class="fas fa-check"></i> Use This Area for Processing
                            </button>
                        </div>
                    </div>

                    <!-- Side-by-Side View -->
                    <div class="comparison-view" id="resultView">
                        <div class="compare-item">
                            <img id="viewOriginal" src="" alt="Source">
                            <span class="compare-label">REALITY</span>
                        </div>
                        <div class="compare-item">
                            <img id="viewProcessed" src="" alt="Output">
                            <span class="compare-label" style="background:var(--primary)">ARTISTRY</span>
                        </div>
                    </div>

                    <!-- Dynamic Slider View -->
                    <div class="slider-view" id="sliderView" style="display:none;">
                        <div class="slider-container">
                            <div class="slider-img img-before">
                                <img id="sliderOriginal" src="" alt="Before">
                                <span class="slider-label">REALITY</span>
                            </div>
                            <div class="slider-img img-after">
                                <img id="sliderProcessed" src="" alt="After">
                                <span class="slider-label" style="background:var(--primary)">ARTISTRY</span>
                            </div>
                            <input type="range" min="0" max="100" value="50" class="slider-range" id="compareSlider">
                            <div class="slider-handle">
                                <i class="fas fa-arrows-left-right"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Batch Results Grid -->
                    <div id="batchResultsView" style="display:none; margin-top: 2rem;">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h4 style="font-family: 'Baloo 2'; color: #1e293b; margin: 0;"><i class="fas fa-images"></i>
                                Batch Results</h4>
                            <span id="batchResultsCount"
                                style="font-size: 0.8rem; background: var(--primary); color: white; padding: 4px 12px; border-radius: 20px; font-weight: 700;">0
                                Images</span>
                        </div>
                        <div id="batchResultsGrid"
                            style="display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 15px;">
                            <!-- Processed items will be injected here -->
                        </div>
                    </div>

                    <!-- Task 13: Image Statistics + Adjustment Panel -->
                    <div id="statsPanel" style="display:none; background: #f8fafc; border-radius: 16px; border: 1px solid #e2e8f0;">
                        <div onclick="toggleStatsPanel()" style="display:flex; align-items:center; justify-content:space-between; padding: 16px 22px; cursor:pointer; user-select:none; background:#fff; border-bottom: 1px solid #e2e8f0;">
                            <h4 style="margin:0; font-family: 'Baloo 2'; color: #475569; font-size:0.95rem;"><i class="fas fa-chart-simple"></i> Neural Analysis Statistics</h4>
                            <span id="statsPanelChevron" style="color:#94a3b8; font-size:0.85rem; transition: transform 0.3s;"><i class="fas fa-chevron-down"></i></span>
                        </div>
                        <div id="statsPanelBody" style="display:none; padding: 20px 22px;">

                            <!-- Stats Grid -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                <div>
                                    <h5 style="color: #64748b; margin-bottom: 10px; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em;">Source Analysis</h5>
                                    <div style="display:flex; justify-content:space-between; margin-bottom:6px; font-size:0.85rem;"><span>Brightness:</span><strong id="origBright">-</strong></div>
                                    <div style="display:flex; justify-content:space-between; margin-bottom:12px; font-size:0.85rem;"><span>Contrast:</span><strong id="origContrast">-</strong></div>
                                    <div style="height:5px; background:#e2e8f0; border-radius:3px; overflow:hidden; display:flex;">
                                        <div id="origR" style="width:33%; background:#ef4444;"></div>
                                        <div id="origG" style="width:33%; background:#22c55e;"></div>
                                        <div id="origB" style="width:34%; background:#3b82f6;"></div>
                                    </div>
                                    <p style="font-size:0.65rem; color:#94a3b8; margin-top:4px; text-align:center;">Vibrant Color Distribution</p>
                                </div>
                                <div>
                                    <h5 style="color: #64748b; margin-bottom: 10px; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em;">Neural Output</h5>
                                    <div style="display:flex; justify-content:space-between; margin-bottom:6px; font-size:0.85rem;"><span>Brightness:</span><strong id="procBright">-</strong></div>
                                    <div style="display:flex; justify-content:space-between; margin-bottom:12px; font-size:0.85rem;"><span>Contrast:</span><strong id="procContrast">-</strong></div>
                                    <div style="height:5px; background:#e2e8f0; border-radius:3px; overflow:hidden; display:flex;">
                                        <div id="procR" style="width:33%; background:#ef4444;"></div>
                                        <div id="procG" style="width:33%; background:#22c55e;"></div>
                                        <div id="procB" style="width:34%; background:#3b82f6;"></div>
                                    </div>
                                    <p style="font-size:0.65rem; color:#94a3b8; margin-top:4px; text-align:center;">Neural Color Calibration</p>
                                </div>
                            </div>

                            <div style="padding-top:12px; border-top:1px solid #e2e8f0; display:flex; justify-content:space-between; font-size:0.78rem; color:#94a3b8; margin-bottom:22px;">
                                <span>Processing Time: <strong id="procTimeLabel" style="color:var(--primary);">0.00s</strong></span>
                                <span>Engine: <strong style="color:#64748b;">OpenCV v4.x</strong></span>
                            </div>

                            <!-- User Adjustment Controls -->
                            <div style="background:#fff; border-radius:12px; border:1px solid #e2e8f0; padding:16px;">
                                <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:16px;">
                                    <h5 style="margin:0; font-family:'Baloo 2'; color:#334155; font-size:0.9rem;"><i class="fas fa-sliders" style="color:var(--primary);"></i> Adjust Output</h5>
                                    <button onclick="resetAdjustments()" style="background:none; border:1px solid #e2e8f0; border-radius:8px; padding:4px 12px; font-size:0.75rem; color:#64748b; cursor:pointer; font-weight:600;">
                                        <i class="fas fa-redo"></i> Reset
                                    </button>
                                </div>

                                <div style="margin-bottom:14px;">
                                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:6px;">
                                        <label style="font-size:0.8rem; font-weight:600; color:#475569;"><i class="fas fa-sun" style="color:#f59e0b;"></i> Brightness</label>
                                        <span id="brightnessVal" style="font-size:0.8rem; font-weight:700; color:var(--primary);">100%</span>
                                    </div>
                                    <input type="range" id="brightnessSlider" class="adjust-slider" min="0" max="200" value="100" oninput="applyAdjustments()">
                                </div>

                                <div>
                                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:6px;">
                                        <label style="font-size:0.8rem; font-weight:600; color:#475569;"><i class="fas fa-circle-half-stroke" style="color:#6366f1;"></i> Contrast</label>
                                        <span id="contrastVal" style="font-size:0.8rem; font-weight:700; color:var(--primary);">100%</span>
                                    </div>
                                    <input type="range" id="contrastSlider" class="adjust-slider" min="0" max="200" value="100" oninput="applyAdjustments()">
                                </div>
                            </div>

                        </div><!-- /statsPanelBody -->
                    </div>

                    <!-- Scoped Stage Loader â€” scoped to .main-stage only -->
                    <div id="loader" class="stage-loader">
                        <div class="spinner"></div>
                        <h3 style="margin-top:1.5rem; font-family:'Baloo 2'; color:var(--primary); font-size:1.8rem;">Neural Artist at Work...</h3>
                    </div>
                </div>

                <div id="downloadArea" style="display:none; margin-top:2rem;">
                    <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                        <select id="downloadFormat"
                            style="flex: 1; padding: 15px; border-radius: 12px; border: 1px solid #e2e8f0; background: #f8fafc; font-weight: 600; color: #475569;">
                            <option value="jpg">Standard JPEG (.jpg)</option>
                            <option value="png">Lossless PNG (.png)</option>
                            <option value="pdf">Document PDF (.pdf)</option>
                        </select>
                        <select id="downloadQuality"
                            style="flex: 1; padding: 15px; border-radius: 12px; border: 1px solid #e2e8f0; background: #f8fafc; font-weight: 600; color: #475569;">
                            <option value="95">High Quality (95%)</option>
                            <option value="100">Pro Master (100%)</option>
                            <option value="80">Optimized (80%)</option>
                        </select>
                    </div>
                    <button class="btn-auth" id="downloadBtn"
                        style="width:100%; border-radius:12px; height:64px; font-size:1.1rem;">
                        <i class="fas fa-download"></i> Save Ultra-HD Export
                    </button>
                    <p style="font-size: 0.75rem; text-align: center; color: #94a3b8; margin-top: 10px;">
                        <i class="fas fa-shield-halved"></i> Secure end-to-end encrypted neural export
                    </p>
                </div>
            </main>
        </div>
    </section>

    <!-- Social Proof / Features -->
    <section class="features-section" id="features">
        <div class="section-title">
            <h2>Why Choose <span>Toonify?</span></h2>
            <p>Experience the junction of advanced neural science and professional art.</p>
        </div>

        <div class="features-grid">
            <div class="feat-item">
                <div class="feat-card">
                    <div class="feat-icon-wrapper">
                        <i class="fas fa-sliders"></i>
                    </div>
                    <div class="feat-img"><img src="https://images.unsplash.com/photo-1579783902614-a3fb3927b6a5?w=200"
                            alt=""></div>
                    <h3>Creative Control</h3>
                    <p>Fine-tune every aspect of your cartoon output with our advanced neural modifiers.</p>
                    <div class="feat-badge">Precise</div>
                </div>
            </div>
            <div class="feat-item">
                <div class="feat-card">
                    <div class="feat-icon-wrapper">
                        <i class="fas fa-bolt-lightning"></i>
                    </div>
                    <div class="feat-img"><img src="https://images.unsplash.com/photo-1513364776144-60967b0f800f?w=200"
                            alt=""></div>
                    <h3>Speed & Precision</h3>
                    <p>Under 0.5s processing time with dedicated GPU-accelerated cloud nodes.</p>
                    <div class="feat-badge">Instant</div>
                </div>
            </div>
            <div class="feat-item">
                <div class="feat-card">
                    <div class="feat-icon-wrapper">
                        <i class="fas fa-earth-americas"></i>
                    </div>
                    <div class="feat-img"><img src="https://images.unsplash.com/photo-1541701494587-cb58502866ab?w=200"
                            alt=""></div>
                    <h3>Global Community</h3>
                    <p>Join millions of users who are already transforming their digital presence.</p>
                    <div class="feat-badge">Connected</div>
                </div>
            </div>
        </div>
    </section>

    <!-- SaaS Pricing Table -->
    <section class="pricing" id="pricing">
        <div class="section-title">
            <h2>Ready to <span>Upgrade?</span></h2>
            <p>Choose the plan that fits your creative workflow.</p>
        </div>
        <div class="price-grid">
            <div class="price-card">
                <h4>Starter</h4>
                <div class="amount">$0</div>
                <ul>
                    <li><i class="fas fa-check"></i> Standard Quality</li>
                    <li><i class="fas fa-check"></i> 5 Generations / Day</li>
                    <li><i class="fas fa-check"></i> Basic Styles</li>
                </ul>
                <button class="btn-auth" onclick="showStarterPlan()"
                    style="background:var(--slate); width:100%;">Current Plan</button>
            </div>
            <div class="price-card popular">
                <div class="popular-badge">BEST VALUE</div>
                <h4>Creator Pro</h4>
                <div class="amount">$19</div>
                <ul>
                    <li><i class="fas fa-check"></i> 4K Ultra-HD Export</li>
                    <li><i class="fas fa-check"></i> Unlimited Generations</li>
                    <li><i class="fas fa-check"></i> Priority Neural Processing</li>
                </ul>
                <button class="btn-auth" onclick="upgradeToPro()" style="width:100%;">Get Started Now</button>
            </div>
            <div class="price-card">
                <h4>Agency Elite</h4>
                <div class="amount">$49</div>
                <ul>
                    <li><i class="fas fa-check"></i> Team Collaboration</li>
                    <li><i class="fas fa-check"></i> API Integration Access</li>
                    <li><i class="fas fa-check"></i> Custom Neural Training</li>
                </ul>
                <button class="btn-auth" onclick="contactSales()" style="background:var(--slate); width:100%;">Contact
                    Sales</button>
            </div>
        </div>
    </section>

    <!-- Quick Navigation Section -->
    <section
        style="background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); padding: 80px 5%; text-align: center;">
        <h2 style="font-family: 'Baloo 2'; font-size: 2.5rem; margin-bottom: 15px; color: #1e293b;">Ready to Transform
            Your Photos?</h2>
        <p style="font-size: 1.1rem; color: #64748b; margin-bottom: 50px;">Choose your next step below</p>

        <div
            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; max-width: 1000px; margin: 0 auto;">
            <!-- Get Started Button -->
            <button onclick="window.location.href='#app'"
                style="padding: 20px 30px; background: var(--primary); color: white; border: none; border-radius: 12px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: 0.3s; display: flex; align-items: center; justify-content: center; gap: 10px; box-shadow: 0 5px 15px rgba(255, 100, 60, 0.2);"
                onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 10px 25px rgba(255, 100, 60, 0.3)';"
                onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 5px 15px rgba(255, 100, 60, 0.2)';">
                <i class="fas fa-wand-magic-sparkles"></i> Get Started Now
            </button>

            <!-- View Gallery Button -->
            <button onclick="window.location.href='/gallery'"
                style="padding: 20px 30px; background: white; color: var(--primary); border: 2px solid var(--primary); border-radius: 12px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: 0.3s; display: flex; align-items: center; justify-content: center; gap: 10px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);"
                onmouseover="this.style.background='var(--primary)'; this.style.color='white'; this.style.boxShadow='0 10px 25px rgba(255, 100, 60, 0.15)';"
                onmouseout="this.style.background='white'; this.style.color='var(--primary)'; this.style.boxShadow='0 5px 15px rgba(0, 0, 0, 0.05)';">
                <i class="fas fa-palette"></i> View Gallery
            </button>

            <!-- Explore Styles Button -->
            <button onclick="window.location.href='/#features'"
                style="padding: 20px 30px; background: white; color: var(--primary); border: 2px solid var(--primary); border-radius: 12px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: 0.3s; display: flex; align-items: center; justify-content: center; gap: 10px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);"
                onmouseover="this.style.background='var(--primary)'; this.style.color='white'; this.style.boxShadow='0 10px 25px rgba(255, 100, 60, 0.15)';"
                onmouseout="this.style.background='white'; this.style.color='var(--primary)'; this.style.boxShadow='0 5px 15px rgba(0, 0, 0, 0.05)';">
                <i class="fas fa-layer-group"></i> Explore Styles
            </button>

            <!-- View Docs Button -->
            <button onclick="window.location.href='/docs'"
                style="padding: 20px 30px; background: white; color: var(--primary); border: 2px solid var(--primary); border-radius: 12px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: 0.3s; display: flex; align-items: center; justify-content: center; gap: 10px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);"
                onmouseover="this.style.background='var(--primary)'; this.style.color='white'; this.style.boxShadow='0 10px 25px rgba(255, 100, 60, 0.15)';"
                onmouseout="this.style.background='white'; this.style.color='var(--primary)'; this.style.boxShadow='0 5px 15px rgba(0, 0, 0, 0.05)';">
                <i class="fas fa-book-open"></i> View Docs
            </button>
        </div>
    </section>

    <footer class="footer">
        <div>
            <div class="footer-logo"><i class="fas fa-magic"></i> Toonify AI</div>
            <p class="footer-text">The world's #1 AI platform for image stylization. Â© 2026 Toonify Creative Inc.</p>
        </div>
        <div>
            <h4>Product</h4>
            <ul>
                <li><a href="/dashboard">Editor Dashboard</a></li>
                <li><a href="/gallery">Art Gallery</a></li>
                <li><a href="/docs">Documentation Center</a></li>
            </ul>
        </div>
        <div>
            <h4>Company</h4>
            <ul style="list-style: none; padding: 0;">
                <li><a href="/our-story">Our Story</a></li>
                <li><a href="/privacy-policy">Privacy Policy</a></li>
                <li><a href="/terms-of-service">Terms of Service</a></li>
            </ul>
        </div>
        <div>
            <h4>Connect</h4>
            <div class="social-icons">
                <a href="/twitter" style="color: inherit;"><i class="fab fa-twitter"></i></a>
                <a href="/instagram" style="color: inherit;"><i class="fab fa-instagram"></i></a>
                <a href="/discord" style="color: inherit;"><i class="fab fa-discord"></i></a>
            </div>
        </div>
    </footer>

    <!-- #loader moved inside .main-stage for scoped loading -->

    <!-- Modals -->
    <!-- Authentication Modals -->
    <div id="authModal" class="loader-overlay"
        style="background: rgba(15, 23, 42, 0.85); display: none; z-index: 9999; backdrop-filter: blur(12px);">
        <div class="auth-card"
            style="display: flex; max-width: 1000px; width: 92%; background: white; border-radius: 32px; overflow: hidden; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); position: relative; min-height: 600px;">

            <!-- Left Branding Side -->
            <div class="auth-left"
                style="flex: 1; background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%); display: flex; align-items: center; justify-content: center; padding: 40px; position: relative; border-right: 1px solid #e2e8f0;">
                <div style="text-align: center;">
                    <div style="position: relative; animation: float 6s ease-in-out infinite;">
                        <img src="https://images.unsplash.com/photo-1581291518633-83b4ebd1d83e?auto=format&fit=crop&q=80&w=800"
                            alt="Auth Branding" style="width: 100%; max-width: 420px; border-radius: 20px;">
                    </div>
                    <h3
                        style="margin-top: 40px; color: #1e293b; font-size: 2rem; font-family: 'Baloo 2'; font-weight: 800; letter-spacing: -0.5px;">
                        Unleash Your <span
                            style="background: linear-gradient(90deg, #ff7e5f, #feb47b); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;">Creativity</span>
                    </h3>
                    <p
                        style="color: #64748b; margin-top: 15px; font-size: 1.15rem; line-height: 1.6; font-weight: 500;">
                        Experience the power of <br><span style="color: #4f46e5; font-weight: 700;">Neural Stylization
                            Engine</span></p>
                </div>
            </div>

            <!-- Right Form Side -->
            <div class="auth-right"
                style="flex: 1.1; padding: 50px 70px; position: relative; background: white; display: flex; flex-direction: column; justify-content: center;">
                <button class="close-modal"
                    style="position:absolute; top:30px; right:30px; background:#f1f5f9; border:none; font-size:1.2rem; cursor:pointer; color: #475569; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: 0.3s;"
                    onclick="closeAuth()">&times;</button>

                <div id="loginForm">
                    <div style="text-align: center; margin-bottom: 40px;">
                        <h1
                            style="font-family: 'Baloo 2'; color: var(--primary); font-size: 2.8rem; margin-bottom: 5px;">
                            Toonify<span style="color:var(--dark);">.AI</span></h1>
                        <p style="color: #64748b; font-size: 1.05rem;">Access your creative dashboard</p>
                    </div>

                    <div class="sidebar-group" style="gap: 1.5rem; display: flex; flex-direction: column;">
                        <div>
                            <label
                                style="display:block; margin-bottom: 10px; font-weight: 700; font-size: 0.9rem; color: #1e293b;">Username
                                or Email</label>
                            <input type="text" id="loginUser" placeholder="e.g. creative.user@example.com"
                                style="width:100%; padding:18px; border-radius:16px; border:1px solid #e2e8f0; background:#f8fafc; font-size: 1rem;">
                        </div>
                        <div>
                            <label
                                style="display:block; margin-bottom: 10px; font-weight: 700; font-size: 0.9rem; color: #1e293b;">Password</label>
                            <div style="position: relative;">
                                <input type="password" id="loginPass" placeholder="Enter your password"
                                    style="width:100%; padding:18px 50px 18px 18px; border-radius:16px; border:1px solid #e2e8f0; background:#f8fafc; font-size: 1rem;">
                                <i class="far fa-eye toggle-password" data-target="loginPass"
                                    style="position: absolute; right: 20px; top: 50%; transform: translateY(-50%); color: var(--primary); font-size: 1.2rem; cursor: pointer; transition: 0.2s;"></i>
                            </div>
                        </div>

                        <div style="display: flex; justify-content: flex-end; margin-top: -10px;">
                            <a href="#"
                                style="font-size: 0.85rem; color: var(--primary); font-weight: 700; text-decoration: none;">Forgot
                                Password?</a>
                        </div>

                        <button class="btn-convert"
                            style="padding: 18px; font-size: 1.1rem; border-radius: 16px; display: flex; align-items: center; justify-content: center; gap: 12px;"
                            onclick="handleLogin()">
                            <i class="fas fa-check-circle"></i> Log In
                        </button>

                        <div style="text-align: center; margin: 15px 0; position: relative;">
                            <hr style="border: 0; border-top: 1px solid #e2e8f0;">
                            <span
                                style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 0 20px; color: #94a3b8; font-size: 0.9rem; font-weight: 500;">Or</span>
                        </div>

                        <div id="googleBtnContainer"
                            style="width:100%; display: flex; justify-content: center; margin-top: 10px;"></div>

                        <p style="margin-top: 30px; text-align: center; font-size: 1rem; color: #64748b;">Don't have an
                            account? <a href="#" onclick="toggleAuth(event, 'register')"
                                style="color:var(--primary); font-weight:700; text-decoration: none;">Sign up for
                                free</a></p>
                    </div>
                </div>

                <div id="verifyForm" style="display:none;">
                    <div style="text-align: center; margin-bottom: 25px;">
                        <h2 style="font-size: 2.2rem; font-family: 'Baloo 2'; color: var(--primary);">Verify
                            <span>Email</span>
                        </h2>
                        <p style="color: #64748b; font-size: 1rem;">We've sent a 6-digit code to your email.</p>
                    </div>
                    <div class="sidebar-group" style="gap: 1.5rem; display: flex; flex-direction: column;">
                        <div>
                            <label
                                style="display:block; margin-bottom: 10px; font-weight: 700; font-size: 0.9rem; color: #1e293b;">Verification
                                Code</label>
                            <input type="text" id="verifyCode" placeholder="Enter 6-digit code" maxlength="6"
                                style="width:100%; padding:18px; border-radius:16px; border:1px solid #e2e8f0; background:#f8fafc; font-size: 1.5rem; text-align: center; letter-spacing: 15px; font-weight: 800;">
                        </div>
                        <button class="btn-convert" style="padding: 18px; font-size: 1.1rem; border-radius: 16px;"
                            onclick="handleVerifyEmail()">
                            Confirm Verification <i class="fas fa-shield-check" style="margin-left:10px;"></i>
                        </button>
                        <p style="text-align: center; font-size: 0.9rem; color: #64748b;">Didn't receive code? <a
                                href="#" onclick="handleResendCode()"
                                style="color:var(--primary); font-weight:700; text-decoration: none;">Resend Email</a>
                        </p>
                    </div>
                </div>
                <div id="registerForm" style="display:none;">
                    <div style="text-align: center; margin-bottom: 25px;">
                        <h2 style="font-size: 2.2rem; font-family: 'Baloo 2'; color: var(--primary);">Join the
                            <span>Studio</span>
                        </h2>
                        <p style="color: #64748b; font-size: 1rem;">Start creating digital masterpieces today.</p>
                    </div>

                    <div class="sidebar-group" style="gap: 0.6rem; display: flex; flex-direction: column;">
                        <input type="text" id="regUser" placeholder="Choose a username"
                            style="width:100%; padding:14px; border-radius:12px; border:1px solid #e2e8f0; background:#f8fafc;">
                        <div id="userNote"
                            style="font-size: 11px; height: 12px; color: var(--slate); padding-left: 5px;"></div>

                        <input type="email" id="regEmail" placeholder="Your email address"
                            style="width:100%; padding:14px; border-radius:12px; border:1px solid #e2e8f0; background:#f8fafc;">
                        <div id="emailNote"
                            style="font-size: 11px; height: 12px; color: var(--slate); padding-left: 5px;"></div>

                        <div style="position: relative;">
                            <input type="password" id="regPass" placeholder="Create a secure password"
                                style="width:100%; padding:14px 45px 14px 14px; border-radius:12px; border:1px solid #e2e8f0; background:#f8fafc;">
                            <i class="far fa-eye toggle-password" data-target="regPass"
                                style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: var(--primary); font-size: 1.1rem; cursor: pointer;"></i>
                        </div>
                        <div id="passNote"
                            style="font-size: 11px; height: 12px; color: var(--slate); padding-left: 5px; margin-bottom: 2px;">
                        </div>

                        <input type="password" id="regConfirmPass" placeholder="Confirm your password"
                            style="width:100%; padding:14px; border-radius:12px; border:1px solid #e2e8f0; background:#f8fafc;">
                        <div id="confirmNote"
                            style="font-size: 11px; height: 12px; color: var(--slate); padding-left: 5px; margin-bottom: 5px;">
                        </div>

                        <div
                            style="background: #f8fafc; padding: 15px; border-radius: 16px; border: 1px solid #e2e8f0; margin: 5px 0;">
                            <p
                                style="font-size: 11px; color: #334155; margin-bottom: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px;">
                                Security Standards:</p>
                            <div id="passRequirements"
                                style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; font-size: 10px; color: #64748b;">
                                <div id="req-length"><i class="fas fa-circle"
                                        style="font-size: 5px; margin-right: 8px;"></i> 8+ Chars</div>
                                <div id="req-upper"><i class="fas fa-circle"
                                        style="font-size: 5px; margin-right: 8px;"></i> Uppercase</div>
                                <div id="req-number"><i class="fas fa-circle"
                                        style="font-size: 5px; margin-right: 8px;"></i> Numbers</div>
                                <div id="req-special"><i class="fas fa-circle"
                                        style="font-size: 5px; margin-right: 8px;"></i> Symbols</div>
                            </div>
                        </div>

                        <div style="display: flex; align-items: flex-start; gap: 10px; margin: 10px 0;">
                            <input type="checkbox" id="regTerms"
                                style="width: 18px; height: 18px; cursor: pointer; border-radius: 4px; border: 1px solid #e2e8f0; accent-color: var(--primary);">
                            <label for="regTerms"
                                style="font-size: 0.85rem; color: #64748b; line-height: 1.4; cursor: pointer;">
                                I agree to the <a href="#"
                                    style="color: var(--primary); font-weight: 700; text-decoration: none;">Terms of
                                    Service</a> and <a href="#"
                                    style="color: var(--primary); font-weight: 700; text-decoration: none;">Privacy
                                    Policy</a>.
                            </label>
                        </div>

                        <button class="btn-convert"
                            style="padding: 16px; font-size: 1.1rem; border-radius: 12px; margin-top: 5px;"
                            onclick="handleRegister()">Get Started Free <i class="fas fa-user-plus"
                                style="margin-left: 10px;"></i></button>
                        <p style="margin-top: 20px; text-align: center; font-size: 1rem; color: #64748b;">Already have
                            an account? <a href="#" onclick="toggleAuth(event, 'login')"
                                style="color:var(--primary); font-weight:700; text-decoration: none;">Sign In</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="paymentModal" class="loader-overlay"
        style="background: rgba(15, 23, 42, 0.9); display: none; z-index: 9999;">
        <div class="app-container"
            style="max-width: 500px; min-height: auto; grid-template-columns: 1fr; padding: 40px; text-align: center; position: relative;">
            <h2 style="margin: 20px 0 10px;">Ready to <span>Download?</span></h2>
            <div style="background: var(--light); padding: 20px; border-radius: 15px; margin-bottom: 20px;">
                <h1 style="font-size: 3rem; color: var(--dark);">$4.99</h1>
            </div>
            <button class="btn-convert" id="payBtn" onclick="processPayment()">Complete Checkout <i
                    class="fas fa-credit-card"></i></button>
            <button class="btn-auth" style="background:transparent; color:var(--slate); margin-top:10px; border:none;"
                onclick="closePayment()">Cancel</button>
        </div>
    </div>

    <!-- Plan Subscription Modal -->
    <div id="planModal" class="loader-overlay" style="background: rgba(15,23,42,0.92); display: none; z-index: 9999;">
        <div style="background: var(--white); border-radius: 24px; max-width: 480px; width: 92%; padding: 40px 36px; position: relative; box-shadow: 0 32px 80px rgba(0,0,0,0.4); text-align: center;">
            <button onclick="closePlanModal()" style="position:absolute;top:16px;right:20px;background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--slate);line-height:1;">&times;</button>

            <!-- Plan badge -->
            <div id="planBadge" style="display:inline-block;background:var(--gradient);color:#fff;font-size:0.75rem;font-weight:700;letter-spacing:1px;text-transform:uppercase;padding:6px 18px;border-radius:50px;margin-bottom:18px;">Creator Pro</div>

            <h2 style="margin:0 0 6px;font-size:1.9rem;color:var(--dark);">Upgrade Your <span>Plan</span></h2>
            <p id="planTagline" style="color:var(--slate);margin:0 0 24px;font-size:0.95rem;">Unlimited 4K exports &amp; priority processing</p>

            <!-- Price block -->
            <div style="background:var(--light);border-radius:16px;padding:20px;margin-bottom:24px;">
                <div style="display:flex;align-items:baseline;justify-content:center;gap:4px;">
                    <span style="font-size:2.6rem;font-weight:800;color:var(--dark);" id="planPriceDisplay">â‚¹1,900</span>
                    <span style="color:var(--slate);font-size:1rem;">/month</span>
                </div>
                <p id="planPriceUSD" style="margin:4px 0 0;color:var(--slate);font-size:0.82rem;">â‰ˆ $19 USD</p>
            </div>

            <!-- Feature list -->
            <ul id="planFeatureList" style="list-style:none;padding:0;margin:0 0 28px;text-align:left;">
                <li style="padding:7px 0;border-bottom:1px solid var(--light);color:var(--dark);font-size:0.93rem;"><i class="fas fa-check-circle" style="color:#22c55e;margin-right:10px;"></i>Unlimited Neural Transformations</li>
                <li style="padding:7px 0;border-bottom:1px solid var(--light);color:var(--dark);font-size:0.93rem;"><i class="fas fa-check-circle" style="color:#22c55e;margin-right:10px;"></i>4K / 8K Export Quality</li>
                <li style="padding:7px 0;border-bottom:1px solid var(--light);color:var(--dark);font-size:0.93rem;"><i class="fas fa-check-circle" style="color:#22c55e;margin-right:10px;"></i>Batch Processing (up to 20 images)</li>
                <li style="padding:7px 0;color:var(--dark);font-size:0.93rem;"><i class="fas fa-check-circle" style="color:#22c55e;margin-right:10px;"></i>Priority GPU Queue</li>
            </ul>

            <button id="planPayBtn" class="btn-convert" onclick="startPlanCheckout()" style="width:100%;padding:16px;font-size:1.05rem;">
                <i class="fas fa-bolt"></i> Pay &amp; Activate
            </button>
            <p style="margin:12px 0 0;color:var(--slate);font-size:0.78rem;">Secured by Razorpay &bull; Cancel anytime &bull; No hidden fees</p>
        </div>
    </div>

    <!-- Camera Capture Modal -->
    <div id="cameraModal" class="loader-overlay" style="display: none; z-index: 9999;">
        <div class="app-container"
            style="max-width: 600px; min-height: auto; grid-template-columns: 1fr; padding: 20px; position: relative;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2 style="margin: 0; font-size: 1.8rem; color: #1e293b;"><i class="fas fa-camera"></i> Live Camera
                    Capture</h2>
                <button onclick="closeCameraModal()"
                    style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #64748b;">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div
                style="position: relative; background: #000; border-radius: 16px; overflow: hidden; margin-bottom: 20px;">
                <video id="cameraStream" style="width: 100%; display: block; background: #000;"></video>
                <canvas id="cameraCanvas" style="display: none;"></canvas>
                <div id="cameraPermissionDenied"
                    style="display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; font-size: 1.1rem;">
                    <i class="fas fa-video-slash" style="font-size: 4rem; margin-bottom: 20px; opacity: 0.5;"></i>
                    <p>Camera permission denied or not available</p>
                    <p style="font-size: 0.9rem; color: #94a3b8; margin-top: 10px;">Please enable camera access and try
                        again</p>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                <button id="captureCameraBtn" class="btn-convert" style="border-radius: 12px; padding: 16px;">
                    <i class="fas fa-camera"></i> Capture Photo
                </button>
                <button id="switchCameraBtn" class="btn-auth"
                    style="border-radius: 12px; padding: 16px; background: var(--slate); color: white;">
                    <i class="fas fa-repeat"></i> Switch Camera
                </button>
            </div>

            <button onclick="closeCameraModal()" class="btn-auth"
                style="width: 100%; border-radius: 12px; padding: 14px; background: transparent; color: var(--slate); border: 1px solid #e2e8f0;">
                Cancel
            </button>
        </div>
    </div>

    <!-- WhatsApp Share Modal -->
    <div id="whatsappModal" class="loader-overlay" style="display: none; z-index: 9999;">
        <div class="app-container"
            style="max-width: 500px; min-height: auto; grid-template-columns: 1fr; padding: 40px; text-align: center; position: relative;">
            <button onclick="closeWhatsappModal()"
                style="position: absolute; top: 20px; right: 20px; background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #64748b;">
                <i class="fas fa-times"></i>
            </button>

            <div style="font-size: 4rem; color: #25d366; margin-bottom: 20px;">
                <i class="fab fa-whatsapp"></i>
            </div>

            <h2 style="margin: 20px 0 10px; color: #1e293b;">Import from WhatsApp</h2>
            <p style="color: #64748b; margin-bottom: 30px;">Send or upload a photo from WhatsApp to Toonify AI</p>

            <!-- WhatsApp File Upload Section -->
            <div style="background: #f8fafc; padding: 25px; border-radius: 16px; border: 2px dashed #25d366; margin-bottom: 20px; text-align: center; cursor: pointer;"
                onclick="document.getElementById('whatsappFileInput').click();">
                <input type="file" id="whatsappFileInput" accept="image/*" style="display: none;">
                <i class="fas fa-cloud-upload-alt"
                    style="font-size: 2.5rem; color: #25d366; margin-bottom: 10px; display: block;"></i>
                <p style="color: #475569; font-weight: 600; margin-bottom: 5px;">Click here to upload image</p>
                <p style="color: #94a3b8; font-size: 0.85rem;">or drag and drop from WhatsApp</p>
            </div>

            <div
                style="background: #f8fafc; padding: 20px; border-radius: 16px; border: 1px solid #e2e8f0; margin-bottom: 20px; text-align: left;">
                <p style="font-size: 0.9rem; color: #475569; margin-bottom: 12px;"><strong>ðŸ“± Two ways to use:</strong>
                </p>
                <div style="color: #64748b; font-size: 0.9rem; line-height: 1.6;">
                    <p style="margin-bottom: 10px;"><strong>Option 1:</strong> Click above to select photo files from
                        your device</p>
                    <p><strong>Option 2:</strong> Or send photo via WhatsApp</p>
                </div>
            </div>

            <a id="whatsappLink" href="#" target="_blank" class="btn-convert"
                style="display: block; width: 100%; padding: 16px; border-radius: 12px; text-decoration: none; margin-bottom: 12px; background: #25d366;">
                <i class="fab fa-whatsapp"></i> Open WhatsApp
            </a>

            <button onclick="closeWhatsappModal()" class="btn-auth"
                style="width: 100%; border-radius: 12px; padding: 14px; background: transparent; color: var(--slate); border: 1px solid #e2e8f0;">
                Close
            </button>
        </div>
    </div>

    <!-- Home Bar -->
    <div
        style="position: absolute; bottom: 8px; left: 50%; transform: translateX(-50%); width: 100px; height: 4px; background: white; border-radius: 2px; opacity: 0.5;">
    </div>
    </div>
    </div>

    <!-- Floating Go to Top Button -->
    <button id="goToTopBtn" onclick="scrollToTop()"
        style="position: fixed; bottom: 30px; right: 30px; width: 55px; height: 55px; border-radius: 50%; background: var(--primary); color: white; border: none; font-size: 1.3rem; cursor: pointer; display: none; align-items: center; justify-content: center; box-shadow: 0 5px 20px rgba(255, 100, 60, 0.3); transition: 0.3s; z-index: 999;"
        title="Go to Top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <script src="/static/js/app.js?v=303"></script>

    <script>
        // Go to Top Button Functionality
        const goToTopBtn = document.getElementById('goToTopBtn');

        // Show/Hide button based on scroll position
        window.addEventListener('scroll', function () {
            if (window.scrollY > 300) {
                // Show button when scrolled down more than 300px
                goToTopBtn.style.display = 'flex';
            } else {
                // Hide button when near top
                goToTopBtn.style.display = 'none';
            }
        });

        // Smooth scroll to top
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Add hover effects
        goToTopBtn.addEventListener('mouseover', function () {
            this.style.transform = 'scale(1.15)';
            this.style.boxShadow = '0 8px 30px rgba(255, 100, 60, 0.4)';
        });

        goToTopBtn.addEventListener('mouseout', function () {
            this.style.transform = 'scale(1)';
            this.style.boxShadow = '0 5px 20px rgba(255, 100, 60, 0.3)';
        });

        // Click animation
        goToTopBtn.addEventListener('click', function () {
            this.style.transform = 'scale(0.9)';
            setTimeout(() => {
                this.style.transform = 'scale(1)';
            }, 100);
        });
    </script>
</body>

</html>